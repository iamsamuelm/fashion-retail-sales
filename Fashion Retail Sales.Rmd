---
title: "Fashion Retail Sales"
author: "Samuel Muma, Aaliyah Bahru, Akshaya Gajula, Betanya Woldgiogis, Shihao Lu"
date: "2025-04-18"
output: html_document
---

# Fashion Retail Sales Dataset

# mention that this is simulated 

This data set contains 3,400 records of fashion retail sales, capturing various details about customer purchases, including item details, purchase amounts, ratings, and payment methods. It is useful for analyzing customer buying behavior, product popularity, and payment preferences.

```{r}
# Check if required packages are not already installed 
required_packages <- c("readr", "dplyr", "tidyr", "ggplot2", "viridis") #I'll add more here if needed

new_packages <- required_packages[!required_packages %in% installed.packages()]
if (length(new_packages) > 0) {
  install.packages(new_packages)
}

# Load required libraries
library(readr)
library(dplyr)
library(tidyr)
library(ggplot2)
library(viridis)
```


```{r}
# Read in CSV
fashion_df <- read_csv("Fashion_Retail_Sales.csv")
head(fashion_df)

# add 0 to null value
fashion_df$`Purchase Amount (USD)`[is.na(fashion_df$`Purchase Amount (USD)`)] <- 0

head(fashion_df)

# Convert date format
fashion_df$`Date Purchase` <- as.Date(fashion_df$`Date Purchase`, format = "%d-%m-%Y")

# view structure, missing values, summary
str(fashion_df)
colSums(is.na(fashion_df))
summary(fashion_df)
```
  
# Univariate Plots
```{r}
# Plot 1: Purchase Amount
ggplot(fashion_df, aes(x = `Purchase Amount (USD)`)) + 
  geom_histogram(binwidth = 10, fill = "blue", color = "black") +
  xlim(0, 500) +
  labs(
    title = "Distribution of Purchase Amounts (Under $500)",
    x = "Purchase Amount (USD)",
    y = "Number of Purchases"
  ) +
  theme_minimal()

```
  
```{r}
# Plot 2: Payment Method
ggplot(fashion_df, aes(x = `Payment Method`)) +
  geom_bar(fill = "red") +
  labs(
    title = "Payment Method Count",
    x = "Payment Method",
    y = "Number of Purchases"
  ) +
  theme_minimal()

```

```{r}
# Plot 3: Review Ratings 
ggplot(fashion_df, aes(x = `Review Rating`)) +
  geom_histogram(binwidth = 0.5, fill = "pink", color = "black") +
  labs(
    title = "Distribution of Customer Review Ratings",
    x = "Review Rating",
    y = "Number of Reviews"
  ) +
  theme_minimal()

```

```{r}
# Plot 4: Purchase Dates 
ggplot(fashion_df, aes(x = `Date Purchase`)) +
  geom_bar(fill = "black") +
  labs(
    title = "Number of Purchases Over Time",
    x = "Date of Purchase",
    y = "Count of Purchases"
  ) +
  theme_minimal()

```

#Bivariate Plots
```{r}
# Plot 1: Review Rating by Payment
# repetitve with plot 4
ggplot(fashion_df, aes(x = `Review Rating`, fill = `Payment Method`)) +
  geom_histogram(binwidth = 0.5, position = "dodge", color = "black", na.rm = TRUE) +
  labs(
    title = "Review Ratings by Payment Method",
    x = "Review Rating",
    y = "Count"
  ) +
  theme_minimal()

```

```{r}
# Plot 2: Total Purchase Over Time
# stretching needed, top
fashion_df %>%
  group_by(`Date Purchase`) %>%
  summarise(Total_Amount = sum(`Purchase Amount (USD)`)) %>%
  ggplot(aes(x = `Date Purchase`, y = Total_Amount)) +
  geom_line(color = "black") +
  labs(
    title = "Total Purchase Amount Over Time",
    x = "Date of Purchase", 
    y = "Total Amount (USD)"
  ) + theme_minimal()

```


```{r}
# Plot 3: Average Purchase by Method
fashion_df %>%
  group_by(`Payment Method`) %>%
  summarise(Avg_Purchase = mean(`Purchase Amount (USD)`)) %>%
  ggplot(aes(x = `Payment Method`, y = Avg_Purchase)) +
  geom_col(fill = "red") +
  labs(
    title = "Average Purchase Amount by Payment Method",
    x = "Payment Method",
    y = "Average Purchase (USD)"
  ) +
  theme_minimal()

```
  
```{r}
# Plot 4: Purchase per item
#spark lines, change date, change the chart
fashion_df %>%
  group_by(`Item Purchased`) %>%
  summarise(Count = n()) %>%
  ggplot(aes(x = reorder(`Item Purchased`, -Count), y = Count)) +
  geom_col(fill = "pink") +
  labs(
    title = "Number of Purchases per Item",
    x = "Item Purchased",
    y = "Purchase Count"
  ) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  theme_minimal() 

```
  
```{r}
# Plot 5: total sales per item
fashion_df %>%
  group_by(`Item Purchased`) %>%
  summarise(Total_Sales = sum(`Purchase Amount (USD)`)) %>%
  ggplot(aes(x = reorder(`Item Purchased`, -Total_Sales), y = Total_Sales)) +
  geom_col(fill = "red") +
  labs(
    title = "Total Sales per Item",
    x = "Item Purchased",
    y = "Total Sales (USD)"
  ) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  theme_minimal()

```